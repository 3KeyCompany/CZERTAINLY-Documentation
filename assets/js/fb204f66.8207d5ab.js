"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[1476],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return y}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(n),y=r,k=u["".concat(c,".").concat(y)]||u[y]||m[y]||o;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},54760:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return c},default:function(){return y},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return m}});var a=n(83117),r=n(80102),o=(n(67294),n(3905)),i=["components"],l={},c="Add CZERTAINLY Theme",s={unversionedId:"certificate-key/integration-guides/keycloak/czertainly-theme",id:"certificate-key/integration-guides/keycloak/czertainly-theme",title:"Add CZERTAINLY Theme",description:"Optionally, you can apply custom CZERTAINLY theme to Keycloak.",source:"@site/docs/10-certificate-key/20-integration-guides/10-keycloak/09-czertainly-theme.md",sourceDirName:"10-certificate-key/20-integration-guides/10-keycloak",slug:"/certificate-key/integration-guides/keycloak/czertainly-theme",permalink:"/docs/certificate-key/integration-guides/keycloak/czertainly-theme",draft:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Create User and Login",permalink:"/docs/certificate-key/integration-guides/keycloak/create-user-login"},next:{title:"Integration Guide",permalink:"/docs/certificate-key/integration-guides/ms-adcs-connector/integration-guide"}},p={},m=[{value:"Install theme",id:"install-theme",level:2},{value:"Apply theme",id:"apply-theme",level:2}],u={toc:m};function y(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"add-czertainly-theme"},"Add CZERTAINLY Theme"),(0,o.kt)("p",null,"Optionally, you can apply custom CZERTAINLY theme to Keycloak.\nCZERTAINLY theme will make the login page for the users to be authenticated by Keycloak look like the login page for the users to be authenticated by the built-in authentication server."),(0,o.kt)("p",null,"The CZERTAINLY Keycloak theme is available:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"on ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/3KeyCompany/CZERTAINLY-Keycloak-Theme"},"GitHub")," with complete source"),(0,o.kt)("li",{parentName:"ul"},"as docker container on ",(0,o.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/3keycompany/czertainly-keycloak-theme"},"Docker Hub"))),(0,o.kt)("h2",{id:"install-theme"},"Install theme"),(0,o.kt)("p",null,"Assuming using the official Keycloak container images ",(0,o.kt)("inlineCode",{parentName:"p"},"quay.io/keycloak/keycloak"),", the CZERTAINLY Keycloak theme can be installed in the Kubernetes environment using ",(0,o.kt)("inlineCode",{parentName:"p"},"initContainers")," that will make it available to Keycloak during boot, for example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: keycloak-deployment\n  labels:\n    app: keycloak\n  namespace: keycloak\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: keycloak\n  template:\n    metadata:\n      labels:\n        app: keycloak\n    spec:\n      initContainers:\n        - name: init-theme\n          image: 3keycompany/czertainly-keycloak-theme:0.1.0\n          command:\n            - /bin/sh\n            - -c\n            - |\n              cp -a /themes/. /data/\n          volumeMounts:\n            - mountPath: /data\n              name: shared-disk\n      containers:\n        - name: keycloak\n          image: quay.io/keycloak/keycloak:19.0.2\n          args: ["start-dev", "--import-realm"]\n          ports:\n            - name: http\n              containerPort: 8080\n          readinessProbe:\n            httpGet:\n              path: /realms/master\n              port: 8080\n          volumeMounts:\n            - mountPath: /opt/keycloak/themes\n              name: shared-disk\n              readOnly: true\n      volumes:\n        - name: shared-disk\n          emptyDir: {}\n')),(0,o.kt)("h2",{id:"apply-theme"},"Apply theme"),(0,o.kt)("p",null,"Once the theme is installed, it can be applied to the CZERTAINLY client by setting the ",(0,o.kt)("strong",{parentName:"p"},"Login theme")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"czertainly"),", see ",(0,o.kt)("a",{parentName:"p",href:"https://www.keycloak.org/docs/latest/server_admin/#login-settings"},"Login settings")," in the Keycloak documentation."),(0,o.kt)("admonition",{title:"Keycloak themes",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"For more information about custom themes, refer to ",(0,o.kt)("a",{parentName:"p",href:"https://www.keycloak.org/docs/latest/server_development/#_themes"},"Keycloak Themes")," documentation.")))}y.isMDXComponent=!0}}]);